<context>
    <input pattern="(hola) *">
        <!-- Saluda al usuario por su nombre si lo sabe -->
        <output value="Hola $UserName!" if="full($UserName)"/>

        <!-- O activa el contexto para consultar el nombre de nuestro usuario -->
        <context if="empty($UserName)" modal="true"> <!-- Usamos el contexto modal, asi nuestro bot reconoce cualqueir texto como el nombre de usuario -->
            <output value="Hola! Como te llamas?"/>

            <input pattern="$Text">
                <!-- Almacena el nombre del usuario en la variable UserName con la extension 'user' para guardarlo en la base de datos -->
                <var name="UserName" value="$Text" scope="user"/>
                <output value="Gusto en conocerte, $UserName!"/> <!-- Usando el placeholder en la respuesta -->
            </input>
            
            <input pattern=" (que tal| como estas) *">
                <output value="Muy bien y tu?"/>
            </input>
            
            <input pattern=" (bien) *">
                <output value="Me alegro por ti, $UserName!"/>
            </input>
            
            
            <input pattern=" (mal) *">
                <output value="Que pena, $UserName!, animo!"/> <!-- Usando el placeholder en la respuesta -->
            </input>
            
        </context> 
    </input>
</context>
